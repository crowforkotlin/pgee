# 8.5 CSMA/CA 协议的原理

**载波监听多点接入/碰撞避免 CSMA/CA（Carrier Sense Multiple Access with Collision Avoidance）** 是 Wi-Fi 在 MAC 层的协议。协议的设计是要尽量减少碰撞发生的概率。

CSMA/CA 与 CSMA/CD 原理非常相似，但略有不同：

+ 发送数据前需监听信道，若连续一段时间（即时间间隔 DIFS）内信道空闲，则直接发送整个数据帧。
+ 若信道不空闲，则进入**争用期**，即随机生成一个退避时隙数（生成方法同 CSMA/CD 中的**截断二进制指数退避算法**），并启动**退避计时器（Backoff Timer）**。

  每个站需要在每个时隙开始时检测信道是否空闲，若信道不空闲，则冻结退避计时器，推迟到下一次争用信道时继续计时。

  802.11g 规定每个时隙时间为 $9\mu s$。
+ 发送完数据后必须进入争用期。

这种方式可使得所有站能公平的争用信道，但仍可能发生碰撞。若发送数据时发生了碰撞，则碰撞的站必须重传，即重新进入争用期。

相关词条：

+ **隐蔽站问题（Hidden Station Problem）**

  CSMA/CD 的网络使用同一通信介质，因此碰撞一定能被所有站发现，但 Wi-Fi 使用无线信道，存在信号覆盖范围的问题，这会导致某站可能无法检测到全部其他站是否在占用信道，即**隐蔽站问题**。