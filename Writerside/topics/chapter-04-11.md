# 4.11 OSPF（P164 4.6.3）

**开放最短路径优先 OSPF（Open Shortest Path First）** 是**链路状态路由算法**的一种实现，（P164 4.6.3）OSPF 最主要的特征就是使用**链路状态协议（Link State Protocol）**。

OSPF 是**内部网关协议 IGP（Internal Gateway Protocol）** 的一种。

协议 OSPF 的特点是：

+ 每个路由器向**所有路由器**发送信息。

  使用**洪泛法**，每个路由器发送消息时向相邻的路由器发送，而每个路由器收到信息后，再向**除了发来消息的路由器以外**的所有相邻路由器发送收到的消息。

  注意，虽然实际操作中消息仅发送给了相邻的路由器，但由于使用洪泛法，逻辑上还是向链路中所有路由器发送了消息。

+ 每个路由器发送的消息为**与本路由器与所有相邻的路由器之间的链路状态**。

  所谓链路状态就是说明本路由器与哪些路由器相邻，以及该链路的**度量（Metric）**，又称**代价**。度量可以是费用、距离、时延、带宽等，由网络管理员决定，而度量的含义需在一个 OSPF 网络中**统一**，不同的 OSPF 网络可以使用不同的度量含义，不同的路径可以设置不同的度量值。

+ 当链路状态发生变化或每隔一段时间，路由器会洪泛一次链路信息。

由于以上特性，最终每个路由器都能建立一个**链路状态数据库（Link-state Database）**，即整个 OSPF 网络的拓扑图。这个拓扑结构在整个 OSPF 网络中是**一致的**，又称**链路状态数据库的同步**。

OSPF 同样拥有**收敛速度快**的优点，但没有“坏消息传播得慢”的缺点。

OSPF 支持将网络划分为更小的**区域（Area）**，这样洪泛的范围就可以缩小到一个区域而非整个网络。